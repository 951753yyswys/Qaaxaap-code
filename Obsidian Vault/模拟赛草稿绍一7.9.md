T1 草稿 
设 $f_{a_i}$ 为从 $a_i$ 到达 $n$ 的期望的贡献
则有 $$\begin{align}
ans&=\Sigma^{n}_{i=1}f_{a_i}\\
&=1+f_0+\Sigma^{n}_{i=1}\frac{\Sigma_{j=1,j\neq i}^{n}\left( \frac{n-1-a_i}{n-1}f_{a_j}+\frac{a_i}{n-1}f_{a_j+1} \right)}{n} \\
&=\Sigma^{n}_{i=1}\frac{1+f_0+\Sigma_{j=1,j\neq i}^{n}\left( \frac{n-1-a_i}{n-1}f_{a_j}+\frac{a_i}{n-1}f_{a_j+1} \right)}{n}\\

\end{align}$$
整理得
$$
f_i=\frac{(n−1)(1+f_0)+(n−i)f_{i+1}}{2n-1-i}
$$​

我们注意到当有一个是 $n$ 的时候期望次数是 $0$ 次，所以
$f_n+(n-1)f_0=0$
所以$f_0=\frac{f_n}{1-n}$











C.旅行购物

每次测试时间限制：2秒

每次测试的内存限制：256 MB

输入：标准输入

输出：标准输出

阿里和巴哈明决定在美丽的伊朗南部海岸度过暑假。他们还同意在旅途中购物——但没有设定固定的预算，他们决定通过玩游戏来决定他们要花多少钱。游戏在两个数组 $a$ 和 $b$ 上进行，每个数组包含 $n$个整数。

游戏将持续 $k$ 个回合。

在一轮中：

- 首先，Ali选择两个索引 $i$ 和 $j$ ( $1 \leq i \lt j \leq n$ )

- 然后，Bahamin将四个整数 $a_i$ 、 $a_j$ 、 $b_i$ 和 $b_j$ **任意重新排列**。

请注意，Bahamin可以在两个数组之间交换数字。他也可以保持两个数组不变。在所有的 $k$ 回合之后，游戏的值被定义为 $v=\sum\limits_{i=1}^{n} |a_i-b_i|$ 。

Ali和Bahamin将在旅途中花费 $v$ 个硬币。然而，他们的目标却截然不同：

- 阿里希望花费越少越好，即

最小化 $v$

- Bahamin希望尽可能多地花费，即最大化 $v$ 。如果阿里和巴哈明都玩得最好，你必须找到他们将花费的硬币的最终数量。

**输入**

每个测试包含多个测试用例。第一行包含测试用例的数量 $t$ ( $1 \le t \le 10^4$ )。

测试用例的描述如下。每个测试用例的第一行包含两个整数 $n$ 和 $k$ ( $2 \leq n \leq 2 \cdot 10^5$ ， $1 \leq k \leq n$ )

— $a$ 和 $b$ 的长度，以及轮数。

第二行包含 $n$ 个整数 $a_1,a_2,\ldots,a_n$ ( $1 \leq a_i \leq 10^9$ )

— $a$ 的元素。

第三行包含 $n$ 整数 $b_1,b_2,\ldots,b_n$ ( $1 \leq b_i \leq 10^9$ )— $b$ 的元素。

保证所有测试用例的 $n$ 之和不超过 $2 \cdot 10^5$ 。

**输出**

对于每个测试用例，输出一个整数——如果Ali和Bahamin都以最佳方式玩游戏，他们将花费的最终硬币数量。

**样例输入**
5
2 1
1 7
3 5
3 2
1 5 3
6 2 4
5 4
1 16 10 10 16
3 2 2 15 15
4 1
23 1 18 4
19 2 10 3
10 10
4 3 2 100 4 1 2 4 5 5
1 200 4 5 6 1 10 2 3 4
**样例输出**
8
9
30
16
312
**注意**

在第一个测试案例中，阿里只能选择 $(i, j) = (1, 2)$ ，而巴哈明可以重新排列所有四个数字。

因此，他可以分配 $a = [5, 1]$ 和 $b = [3, 7]$ 。游戏的价值将是 $v=|5 - 3| + |1 - 7| = 8$ 。可以证明这是Bahamin可达到的最大可能值——类似 $a = [5, 7],\space b = [1, 3]$ 的其他安排也是可能的，但它们没有更大的值。在第二个测试用例中，Bahamin的最佳策略是保持两个数组不变，而不管Ali选择什么索引。

并且游戏的值将是 $v=|1 - 6| + |5 - 2| + |3 - 4| = 9$ 。





根因爱而建立，因命运而破碎。

每次测试时间限制：2秒

每次测试的内存限制：256 MB

输入：标准输入

输出：标准输出

哈特福尔河(Heartfall River)横向贯穿命定世界(Destinyland)，并将其分为南北两侧。Root工程师想在河边建造 $n$ 栋房屋，编号从 $1$ 到 $n$ 。

北侧的所有房屋和南侧的所有房屋必须位于与哈特福尔河平行的直线上。将有 $m$ 座桥，第座桥连接房屋 $u_i$ 和房屋 $v_i$ ( $u_i \ne v_i$ )。

保证所有 $n$ 房屋都由这些桥梁连接，也就是说，您可以通过跨越桥梁从任何房屋到达任何其他房屋。此外，没有两座桥连接同一对房屋。Root想知道有多少种方法可以沿着河流排列 $n$ 房屋，以 $10^9+7$ 为模，

因此，以下条件适用于规划的 $m$ 桥梁：

- 对于每座桥，

它连接的两座房子位于河的两岸。

- 当在房屋之间绘制直线时，桥梁不会交叉。！[](https：//espresso.codeforces.com/f06223cbf8cd2173865938cd07af3b413993629e.png)当 $n=5$ 时，房屋的可能安排。

如果满足以下条件中的至少一个，则认为两种布置是不同的：

- 在另一边有一所房子

在每个排列中

- 存在两个房屋 $a$ 和 $b$ ，在两种布置中位于同一侧，但是在一种排列中 $a$ 在 $b$ 之前，而在另一种排列中 $b$ 在 $a$ 之前。因为鲁特被他的前女友弄得心烦意乱，命运与他分开了，

他让你计算沿河房屋的排列方式，以 $10^9+7$ 为模。
**输入**

每个测试包含多个测试用例。第一行包含测试用例的数量 $t$ （ $1 \le t \le 10^4$ ）。

测试用例的描述如下。每个测试用例的第一行包含两个整数 $n$ 和 $m$ （ $2 \leq n \leq 2 \cdot 10^5$ ， $n-1 \leq m \leq \min\left(\frac{n(n-1)}{2}, 2 \cdot 10^5\right)$ ）

—房屋数量和桥梁数量。然后是 $m$ 行，第 $i$ 行包含两个整数 $u_i$ 和 $v_i$ （ $1 \leq u_i,v_i \leq n$ ， $u_i\ne v_i$ ）

—第 $i$ 座桥连接的两栋房屋。保证所有的 $n$ 房屋都有桥梁连接，不存在两座桥梁连接同一对房屋。

保证所有测试用例的 $n$ 之和不超过 $2 \cdot 10^5$ ，

并且所有测试用例的 $m$ 之和不超过 $2 \cdot 10^5$ 。
**输出**

对于每个测试用例，输出一个整数——沿着河流排列 $n$ 房屋的方式的数量，模 $10^9+7$ 。

**样例输入**
4
2 1
1 2
3 3
1 2
1 3
2 3
5 4
1 2
1 3
3 4
3 5
4 3
1 2
1 3
1 4
**样例输出**
2
0
8
12
**注意**

在第一个测试案例中，房屋 $1$ 应建在北侧，房屋 $2$ 应建在南侧。

反之亦然。在第二个测试案例中，至少有两栋房子必须建在河的同一侧。但每一对房子都有一座桥相连。

所以在每一次安排中，至少有一座桥不会跨越河流。因此，答案是 $0$ 。在第三个测试案例中，在问题陈述中提供了房屋的一种可能安排。

